@import "tailwindcss";
@import "tw-animate-css";
@import "shadcn/tailwind.css";
@import "@fontsource-variable/jetbrains-mono";

@custom-variant dark (&:is(.dark *));

@font-face {
  font-family: 'Saans';
  src: url('/fonts/SaansCollectionVF.ttf') format('truetype');
  font-weight: 100 900;
  font-style: normal;
  font-display: swap;
}

@theme inline {
  --radius-sm: 0.5rem;
  --radius-md: 0.75rem;
  --radius-lg: 1rem;
  --radius-xl: 1.5rem;
  --radius-2xl: 2rem;

  --color-rich-cerulean-50: #eaf4fb;
  --color-rich-cerulean-100: #d5eaf6;
  --color-rich-cerulean-200: #aad5ee;
  --color-rich-cerulean-300: #80c0e5;
  --color-rich-cerulean-400: #56abdc;
  --color-rich-cerulean-500: #2b96d4;
  --color-rich-cerulean-600: #2378a9;
  --color-rich-cerulean-700: #1a5a7f;
  --color-rich-cerulean-800: #113c55;
  --color-rich-cerulean-900: #091e2a;
  --color-rich-cerulean-950: #06151e;

  --color-sand-dune-50: #f7f5ed;
  --color-sand-dune-100: #f0ebdb;
  --color-sand-dune-200: #e1d6b7;
  --color-sand-dune-300: #d2c293;
  --color-sand-dune-400: #c3ae6f;
  --color-sand-dune-500: #b49a4b;
  --color-sand-dune-600: #907b3c;
  --color-sand-dune-700: #6c5c2d;
  --color-sand-dune-800: #483d1e;
  --color-sand-dune-900: #241f0f;
  --color-sand-dune-950: #19160b;

  --color-alice-blue-50: #ecf3f8;
  --color-alice-blue-100: #dae7f1;
  --color-alice-blue-200: #b4cfe4;
  --color-alice-blue-300: #8fb7d6;
  --color-alice-blue-400: #699fc9;
  --color-alice-blue-500: #4487bb;
  --color-alice-blue-600: #366c96;
  --color-alice-blue-700: #295170;
  --color-alice-blue-800: #1b364b;
  --color-alice-blue-900: #0e1b25;
  --color-alice-blue-950: #09131a;

  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-border: var(--border);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-brand: var(--brand);
  --color-brand-foreground: var(--brand-foreground);

  --font-sans: "Saans", system-ui, sans-serif;
  --font-display: "Saans", system-ui, sans-serif;

  /* Shadows - Sophisticated & Layered */
  --shadow-premium: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(9, 30, 42, 0.1);
  --shadow-glow: 0 0 20px -5px var(--color-rich-cerulean-400);

  /* Animations */
  --animate-float: float 6s ease-in-out infinite;
  --animate-pulse-subtle: pulse-subtle 4s ease-in-out infinite;

  @keyframes float {

    0%,
    100% {
      transform: translateY(0);
    }

    50% {
      transform: translateY(-10px);
    }
  }

  @keyframes pulse-subtle {

    0%,
    100% {
      opacity: 0.8;
    }

    50% {
      opacity: 1;
    }
  }
}

:root {
  --radius: 0.5rem;
  --background: #ffffff;
  --foreground: #09090b;

  --card: #ffffff;
  --card-foreground: #09090b;

  --popover: #ffffff;
  --popover-foreground: #09090b;

  --primary: #18181b;
  --primary-foreground: #fafafa;

  --secondary: #f4f4f5;
  --secondary-foreground: #18181b;

  --muted: #f4f4f5;
  --muted-foreground: #71717a;

  --accent: #f4f4f5;
  --accent-foreground: #18181b;

  /* New accent color for subtle hovers */
  --accent2: rgba(0, 0, 0, 0.02);

  --destructive: #ef4444;
  --destructive-foreground: #fafafa;

  --border: #e4e4e7;
  --input: #e4e4e7;
  --ring: #18181b;

  /* Edge and pattern colors matching ncdai */
  --color-edge: rgba(0, 0, 0, 0.08);
  --edge: var(--color-edge);
  --grid-dot: rgba(0, 0, 0, 0.06);
  --diagonal-line: rgba(0, 0, 0, 0.03);
  --pattern-foreground: var(--color-edge);

  /* Info accent for badges/indicators */
  --info: #3b82f6;

  /* Popover specific styling */
  --popover-border: rgba(0, 0, 0, 0.08);

  /* Custom Mainline Accents */
  --brand: #0062ff;
  --brand-foreground: #ffffff;

  /* Code block styling */
  --code: #fafafa;
  --code-foreground: #18181b;

  /* Shadow tokens */
  --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --shadow-popover: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
}

.dark {
  --background: #09090b;
  --foreground: #fafafa;

  --card: #09090b;
  --card-foreground: #fafafa;

  --popover: #09090b;
  --popover-foreground: #fafafa;

  --primary: #fafafa;
  --primary-foreground: #18181b;

  --secondary: #27272a;
  --secondary-foreground: #fafafa;

  --muted: #27272a;
  --muted-foreground: #a1a1aa;

  --accent: #27272a;
  --accent-foreground: #fafafa;

  /* New accent color for subtle hovers in dark mode */
  --accent2: rgba(255, 255, 255, 0.02);

  --destructive: #7f1d1d;
  --destructive-foreground: #fafafa;

  --border: #27272a;
  --input: #27272a;
  --ring: #d4d4d8;

  /* Edge and pattern colors for dark mode */
  --color-edge: rgba(255, 255, 255, 0.08);
  --edge: var(--color-edge);
  --grid-dot: rgba(255, 255, 255, 0.04);
  --diagonal-line: rgba(255, 255, 255, 0.02);
  --pattern-foreground: var(--color-edge);

  /* Info accent for dark mode */
  --info: #60a5fa;

  /* Popover specific styling for dark mode */
  --popover-border: rgba(255, 255, 255, 0.08);

  --brand: #3b82f6;

  /* Code block styling for dark mode */
  --code: #18181b;
  --code-foreground: #fafafa;

  /* Shadow tokens for dark mode */
  --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.3);
  --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.3), 0 1px 2px -1px rgb(0 0 0 / 0.3);
  --shadow-popover: 0 10px 15px -3px rgb(0 0 0 / 0.3), 0 4px 6px -4px rgb(0 0 0 / 0.3);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased selection:bg-brand/20 selection:text-brand;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Respect user's motion preferences */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}

/* ============================================
   ncdai Design System - Screen Lines & Separators
   ============================================ */

/* Dotted Screen Lines - Before */
.screen-line-before {
  @apply relative;
}

.screen-line-before::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 0;
  border-top: 1px dotted var(--edge);
}

/* Dotted Screen Lines - After */
.screen-line-after {
  @apply relative;
}

.screen-line-after::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 0;
  border-bottom: 1px dotted var(--edge);
}

/* Border edge utility */
.border-edge {
  border-color: var(--edge);
}

/* Ring edge utility */
.ring-edge {
  --tw-ring-color: var(--edge);
}

/* Subtle Pattern Background */
.pattern-dots {
  background-image: radial-gradient(var(--grid-dot) 1px, transparent 1px);
  background-size: 20px 20px;
}

/* Diagonal Pattern */
.pattern-diagonal {
  background-image: repeating-linear-gradient(-45deg,
      var(--diagonal-line) 0,
      var(--diagonal-line) 1px,
      transparent 1px,
      transparent 16px);
}

/* Subtle hover states */
.hover-accent2:hover {
  background-color: var(--accent2);
}

/* Link styling */
.link {
  @apply font-medium underline-offset-4 transition-colors hover:underline;
}

/* Subtle animations */
@keyframes float-subtle {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-2px);
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.animate-float-subtle {
  animation: float-subtle 4s ease-in-out infinite;
}

.animate-fade-in {
  animation: fade-in 0.2s ease-out;
}

/* Focus visible utilities for better keyboard navigation */
.focus-ring {
  @apply focus-visible:outline-none focus-visible:ring-[3px] focus-visible:ring-ring/50 focus-visible:border-ring;
}

/* ============================================
   Premium Infrastructure Design System
   ============================================ */

/* Main Canvas - 60vw centered with dotted grid lines */
.main-canvas {
  @apply mx-auto w-full relative min-h-screen bg-background;
  max-width: 60vw;
  border-left: 1px dotted var(--edge);
  border-right: 1px dotted var(--edge);
}

/* Dotted Screen Lines */
.screen-line-before {
  @apply relative;
}

.screen-line-before::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 0;
  border-top: 1px dotted var(--edge);
}

.screen-line-after {
  @apply relative;
}

.screen-line-after::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 0;
  border-bottom: 1px dotted var(--edge);
}

/* Subtle Dot Pattern Background */
.pattern-dots {
  background-image: radial-gradient(var(--grid-dot) 1px, transparent 1px);
  background-size: 20px 20px;
}

/* Diagonal Lines Overlay - Technical Aesthetic */
.diagonal-lines {
  position: relative;
}

.diagonal-lines::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background-image: repeating-linear-gradient(-45deg,
      var(--diagonal-line) 0,
      var(--diagonal-line) 1px,
      transparent 1px,
      transparent 12px);
  z-index: 0;
}

/* Diagonal Pattern For Sections */
.pattern-diagonal {
  background-image: repeating-linear-gradient(-45deg,
      var(--diagonal-line) 0,
      var(--diagonal-line) 1px,
      transparent 1px,
      transparent 16px);
}

/* Combined Pattern - Dots + Diagonal */
.pattern-tech {
  background-image:
    radial-gradient(var(--grid-dot) 1px, transparent 1px),
    repeating-linear-gradient(-45deg,
      var(--diagonal-line) 0,
      var(--diagonal-line) 1px,
      transparent 1px,
      transparent 20px);
  background-size: 20px 20px, auto;
}

/* Button */
.btn {
  @apply inline-flex items-center justify-center gap-2 px-4 py-2 text-sm transition-all duration-200 rounded-md cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed;
  font-weight: 400;
}

.btn-primary {
  @apply bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm border border-primary;
}

.btn-brand {
  @apply bg-brand text-brand-foreground hover:bg-brand/90 shadow-lg shadow-brand/10 border border-brand/50;
}

.btn-secondary {
  @apply bg-secondary text-secondary-foreground hover:bg-secondary/80 border border-border/50;
}

.btn-outline {
  @apply border bg-transparent text-foreground hover:bg-accent hover:text-accent-foreground;
  border-style: dotted;
  border-color: var(--edge);
}

.btn-ghost {
  @apply text-foreground hover:bg-accent hover:text-accent-foreground opacity-80 hover:opacity-100;
}

/* Card */
.card {
  @apply bg-card text-card-foreground p-6 rounded-md shadow-sm transition-all duration-200;
  border: 1px dotted var(--edge);
}

.glass {
  @apply bg-background/60 backdrop-blur-md;
  border-bottom: 1px dotted var(--edge);
}

/* Input */
.input {
  @apply flex h-10 w-full rounded-md bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-brand/40 focus-visible:border-brand/50 disabled:cursor-not-allowed disabled:opacity-50 transition-all;
  border: 1px dotted var(--edge);
  font-weight: 400;
}

.input:focus {
  border-style: solid;
  border-color: var(--brand);
}

/* Badge */
.badge {
  @apply inline-flex items-center rounded-full px-2.5 py-0.5 text-[10px] transition-colors tracking-tight lowercase;
  border: 1px dotted var(--edge);
  font-weight: 400;
}

.badge-brand {
  @apply bg-brand/10 text-brand;
  border-color: var(--brand);
  border-style: dotted;
}

/* Typography - Medium & Regular weights only */
.heading-mainline {
  @apply text-foreground tracking-tight lowercase;
  font-weight: 500;
}

.text-muted-mainline {
  @apply text-muted-foreground leading-relaxed lowercase;
  font-weight: 400;
  opacity: 0.7;
}

/* Progress */
.progress {
  @apply w-full h-1 bg-secondary rounded-full overflow-hidden;
}

.progress-bar {
  @apply h-full bg-brand transition-all duration-300;
}

/* Section dividers with dotted lines */
.section-divider {
  @apply w-full h-px;
  border-top: 1px dotted var(--edge);
}

/* Technical accent line */
.accent-line {
  @apply h-px bg-brand/30;
  width: 24px;
}

/* Uppercase micro labels - now lowercase */
.micro-label {
  @apply text-[10px] tracking-[0.15em] text-muted-foreground lowercase;
  font-weight: 400;
  opacity: 0.6;
}

/* Infrastructure Status Indicator */
.status-indicator {
  @apply flex items-center gap-2;
}

.status-indicator::before {
  content: '';
  @apply w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse;
}

/* Hover States with Dotted Outline Effect */
.interactive-item {
  @apply transition-all duration-200;
  outline: 1px dotted transparent;
  outline-offset: 2px;
}

.interactive-item:hover {
  outline-color: var(--edge);
}

/* File List Item */
.file-item {
  @apply py-5 flex items-center gap-5 transition-colors;
  border-bottom: 1px dotted var(--edge);
}

.file-item:last-child {
  border-bottom: none;
}

/* Upload Zone */
.upload-zone {
  @apply flex flex-col items-center justify-center space-y-4 transition-all duration-300 cursor-pointer bg-background;
  border: 1px dotted var(--edge);
  border-radius: 0.5rem;
  padding: 4rem 2rem;
}

.upload-zone:hover {
  @apply bg-secondary/10;
}

.upload-zone.dragging {
  @apply bg-brand/5;
  border-color: var(--brand);
}

/* Animations */
@keyframes float {

  0%,
  100% {
    transform: translateY(0px);
  }

  50% {
    transform: translateY(-3px);
  }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

/* Responsive Canvas */
@media (max-width: 1200px) {
  .main-canvas {
    max-width: 80vw;
  }
}

@media (max-width: 768px) {
  .main-canvas {
    max-width: 95vw;
  }
}