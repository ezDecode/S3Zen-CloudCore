# ============================================================================
# CloudCore Backend Environment Configuration
# ============================================================================
# Copy this file to .env and fill in the values.
# SECURITY: Never commit .env files to version control!
# ============================================================================

# ----------------------------------------------------------------------------
# Server Configuration
# ----------------------------------------------------------------------------

# Node environment (development, production, test)
NODE_ENV=development

# Server port
PORT=3001

# Base URL for the backend API
BASE_URL=http://localhost:3001

# Allowed origins for CORS (comma-separated)
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# API key for server-to-server requests (generate with: openssl rand -hex 32)
API_KEY=your-secure-api-key-here

# ----------------------------------------------------------------------------
# Supabase Configuration
# ----------------------------------------------------------------------------
# Get these from your Supabase project settings:
# https://supabase.com/dashboard/project/_/settings/api

# Supabase project URL
# Example: https://your-project-ref.supabase.co
SUPABASE_URL=

# Supabase anonymous/public key (safe to expose in frontend)
# Found in: Settings > API > Project API keys > anon public
SUPABASE_ANON_KEY=

# Supabase service role key (NEVER expose to frontend!)
# Found in: Settings > API > Project API keys > service_role secret
# This key bypasses Row Level Security - keep it secret!
SUPABASE_SERVICE_ROLE_KEY=

# ----------------------------------------------------------------------------
# Encryption Configuration
# ----------------------------------------------------------------------------

# AES-256-GCM encryption key for credential storage
# MUST be exactly 64 hexadecimal characters (32 bytes)
# Generate with: openssl rand -hex 32 OR npm run generate:key
#
# IMPORTANT:
# - Store this key securely (use secrets manager in production)
# - If you lose this key, all encrypted credentials are unrecoverable
# - Rotate this key periodically using the key rotation procedure
ENCRYPTION_KEY=

# ----------------------------------------------------------------------------
# Rate Limiting
# ----------------------------------------------------------------------------

# Rate limit window in milliseconds (default: 15 minutes)
RATE_LIMIT_WINDOW_MS=900000

# Maximum requests per window per IP (default: 100)
RATE_LIMIT_MAX=100

# ----------------------------------------------------------------------------
# Logging & Monitoring (Optional)
# ----------------------------------------------------------------------------

# Sentry DSN for error tracking
# SENTRY_DSN=

# Log level (debug, info, warn, error)
LOG_LEVEL=info

# ----------------------------------------------------------------------------
# Session Configuration
# ----------------------------------------------------------------------------

# Session timeout in hours (default: 24)
SESSION_TIMEOUT_HOURS=24

# Require email verification for protected actions
REQUIRE_EMAIL_VERIFICATION=true

